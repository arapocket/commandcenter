include mixins
extends layout
block content   
            include navbar
            head
                style.
                  #map {
                  height: 500px;
                  width: 100%;
                  }
            .row
              .col-md-2.col-sm-2.col-xs-12
                .row
                      .panel.panel-default
                        .panel-heading
                          h3.panel-title Guards       
                        div
                            table#pickle.table.table-hover.table-striped.table-bordered
                                thead
                                    tr.default
                                        th First Name
                                        th Last Name
                                tbody
                                -each guard in getAllGuardsResult
                                    tr.default
                                        td=guard.FirstName
                                        td=guard.LastName
                  .row
                      .panel.panel-default
                        .panel-heading
                          h3.panel-title Incidents       
                        div
                            table#pickle.table.table-hover.table-striped.table-bordered
                                thead
                                tbody
                                -each incident in getAllIncidentsResult
                                    tr.default
                                        td=incident.Type 
                  .row
                      #removeCheckpointButton
                          a.btn.btn-default.btn-block
                           i.fa.fa-eraser(aria-hidden='true')
                           | &nbsp Remove Checkpoint
                  .row
                      #saveRouteButton
                          a.btn.btn-default.btn-block
                           i.fa.fa-floppy-o(aria-hidden='true')
                           | &nbsp Save Route
                  .row
                      #loadRouteButton
                          a.btn.btn-default.btn-block
                           i.fa.fa-cloud-download(aria-hidden='true')
                           | &nbsp Load Route   
                  .row
                      #autoRefreshButtonOFF
                          a.btn.btn-default.btn-block
                           i.fa.fa-refresh(aria-hidden='true')
                           | &nbsp Auto Refresh Off
                      #autoRefreshButtonTEN
                          a.btn.btn-default.btn-block
                           i.fa.fa-refresh(aria-hidden='true')
                           | &nbsp Auto Refresh 10                                                                                           
              .col-md-8.col-sm-8.col-xs-12              
                    #map
              .col-md-2.col-sm-2.col-xs-12                       
                    ul.pages
                     li.chat.page
                      .chatArea
                       ul.messages
                      input.inputMessage(placeholder='Type here...')
                     li.login.page
                      .form
                       h3.title What's your nickname?
                       input.usernameInput(type='text', maxlength='14')
                  script(src='/javascripts/guardpatrol/configureMap.js')
                  script(src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js')
                  script(src='https://code.jquery.com/jquery-1.11.1.js')
                  script(src='/javascripts/guardpatrol/socketStuff.js')
                  script.
                    var mapElement = document.getElementById('map');
                    var guards = !{ JSON.stringify(getAllGuardsResult) };
                    var locations = !{ JSON.stringify(getCurrentLocationsResult) };
                    var incidents = !{ JSON.stringify(getAllIncidentsResult) };
                    var coords = !{ JSON.stringify(getCurrentCoordsResult) };
                    var patrols = !{ JSON.stringify(getCurrentPatrolsResult) }; 
                    initMap();
                    socketStuff();


